# クラウド連携アプリ開発導入ハンズオンセミナー 学習指導案

## 対象
* 高等学校、専門学校、大学、大学院等で HTML/JavaScript（Monaca）の基本を既習の生徒または学生

## 学習目標
### （知識及び技能）
* フロントエンドとバックエンドを連携させることができる
* データ（文字列）をスマホアプリ（Monaca）から保存することができる

### （思考力、判断力、表現力）
* スマホアプリ（Monaca）からデータを保存するコードの意味を理解できる
* 管理画面から作業手順とコード内容を照らし合わせて考えることができる

### （学びに向かう力、人間性等）
* 自らのコーディングでクラウドにデータが保存できることで感動したり、達成感を得たりできる
* データの内容を変更するなど自ら工夫して試すことができる

## 前提条件

* コンピュータの基本的な操作（クリック、ドラッグ、文字入力）ができる
* Monaca の基本的な操作ができる
* HTML,JavaScript の基礎を学習している

## 準備
* パソコン（１人１台）、インターネット環境の準備
* Google Chrome （ブラウザ）のインストール
* 資料の配布
  * 「Monaca で mobile backend を使ってみよう」http://bit.ly/StartNCMB
    * 印刷方法： Google Chrome にて資料を開く > 右上の「設定」 > 印刷 > 送信先「PDFに保存」を選択 > 「保存」をクリック
* Monaca アカウントの用意
* ニフクラ mobile backend アカウントの用意
<!-- * 参考書サポートページの配布 -->

<div style="page-break-before:always"></div>

## 指導過程 第３章 バックエンドアプリ開発入門<br>「Monacaで作成したアプリからデータを保存しましょう」
<!-- 表の貼り付け はじめ -->
| 指導過程                                             | 教師の働きかけ                                                                                                                                                                                                                                                                                                                                                                       | 指導のポイント                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 参考書    |
|------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------|
| 導入                                                 | <ul><li>前回の確認をする</li><ul><li>管理画面からクラウドデータベースにデータを保存・更新・削除ができた</li></ul><li>ニフクラ mobile backend にログインさせる</li><li>クラウドデータベースを利用する方法は２通りある事を確認する（再掲）</li><ul><li>本時はスマホアプリからの保存方法の学習</li></ul><li>Monacaにログインをさせる</li><li>Monacaにプロジェクトを作成させる</li></ul> | <ul><li>実態の見えにくい「クラウド」という存在を管理画面（ブラウザ）から確認・操作ができる事を伝える</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | 板書案    |
| クラウドデータベースをスマホアプリから使う準備       | <ul><li>Monacaとクラウドデータベースの連携作業を通してフロントエンドとバックエンドの連携の仕組みを習得させる</li><ul><li>SDKの導入</li><li>APIキーの設定</li><li>導入したSDKを利用可能な状態にするための初期化</li></ul></ul>                                                                                                                                                        | <ul><li>本作業はクラウドデータベースを利用するために必ず実施する作業である事を伝える</li><ul><li>特にSDKの導入は忘れがちな作業で、演習時動作しない場合などこの作業の漏れが無いかをまず確認すると良い</li></ul></ul>＜どうしてSDKの導入が必要なのか？＞<ul><li>クラウドデータベースを外部（ここではMonaca）から利用するためにはAPIという仕組みを使用します</li><li>APIを使うには複雑なコーディング（シグネチャ（電子署名）など）が必要になりますが、その作業を代わりに実行してくれるのがSDKです</li><li>SDKを通してAPIを扱う事で簡単なコードでクラウドデータベースを扱うことができるようになります</li></ul><br><ul><li>クラウド操作のコーディング言語はJavaScriptです</li><ul><li>htmlファイルに書く場合はscriptタグ内に記述する</li></ul></ul> | 26-32<br> |
| スマホアプリらクラウドデータベースにデータを保存する | <ul><li>コードからデータストアへデータの保存作業を通して、データがどのような構造で格納できるのかを確認させる</li><ul><li>コードの確認</li><li>コードの実行と管理画面を開いて結果を確認</li><li>コードの解説</li><li>コールバックの設定方法</li><ul><li>コードの確認・動作確認</li></ul></ul></ul>                                                                                    | <ul><li>前回既習の内容を思い出しながら、各部（クラス、フィールド、保存する値）などをどのようなコードで作成し保存できるのかを確認させる</li><li>同様に文字列以外の型のデータについてもコードから保存する場合どうしたら良いかを問うなどしても良い（JavaScriptの知識）</li><li>管理画面からの操作手順とコードからの手順を比べさせ、どちらが使いやすいかなど感想を話し合わせても良い</li></ul>                                                                                                                                                                                                                                                                                                                                                          | 32-34<br> |
| まとめ                                               | <ul><li>フロントエンドとバックエンドの連携ができるようになった事を認識させる</li><li>スマホアプリ（コード）からデータストアへデータの保存ができるようになった事を認識させる</li><li>次回の学習内容の確認をする</li><ul><li>スマホアプリからクラウドデータベースのデータを取得する</li></ul></ul>                                                                                     | ＜成果物の確認＞<ul><li>フロントエンドとバックエンドの連携ができる</li><li>スマホアプリ（コード）からクラウドデータベースにデータを保存ができる</li></ul>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | -         |

<!-- 表の貼り付け おわり -->
